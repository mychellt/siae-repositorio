<ui:composition template="/template/template.xhtml" 
	  xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
		<ui:define name="header">
			<ui:include src="/template/header.xhtml" />
		</ui:define>
		<ui:define name="content">
		<h:form id="form-matricula-aluno"  acceptcharset="ISO-8859-1">
			<p:breadCrumb>  
				<p:menuitem value="Home" action="#{matriculaAlunoMBean.home}" ajax="false" immediate="true"/>
			    <p:menuitem value="Matrículas" action="#{matriculaAlunoMBean.iniciarMatricula}" ajax="false" immediate="true"/>
			    <p:menuitem value="Realizar Matrícula de Aluno" ajax="false" immediate="true"/>  
			</p:breadCrumb> 
			<br/>
			<p:messages id="messages" showDetail="false" autoUpdate="true" closable="true" /> 
			<p:dataTable value="#{matriculaAlunoMBean.alunos}" var="aluno" >
				 <f:facet name="header">  
		           <h:outputText value="Aluno(s) Encontrado(s)" />
		        </f:facet>
		        <p:column style="width: 40%; text-align: left;" headerText="Nome">  
		            <h:outputText value="#{aluno.pessoa.nome}" />  
		        </p:column>
		        <p:column style="width: 10%; text-align: center;" headerText="CPF">  
		            <h:outputText value="#{aluno.pessoa.cpf}" >
		            	<f:converter converterId="converterCPF"/>
		            </h:outputText>  
		        </p:column>
		        <p:column style="width: 10%; text-align: center;" headerText="RG">  
		            <h:outputText value="#{aluno.pessoa.identidade.numero != 0 ? aluno.pessoa.identidade.numero : 'Não Informado'}" />  
		        </p:column>
		        <p:column style="width: 10%; text-align: center;" headerText="Registro de Nascimento">
		            <h:outputText value="#{aluno.pessoa.certidaoNascimento.numero != 0 ? aluno.pessoa.certidaoNascimento.numero : 'Não Informado'}" />  
		        </p:column>
		        <p:column style="width: 7%; text-align: right;">
	        		<h:commandLink action="#{matriculaAlunoMBean.preSelecionar}">
	        			<h:outputText value="Selecionar" />
						<f:setPropertyActionListener target="#{matriculaAlunoMBean.aluno}" value="#{aluno}"/>
		          	</h:commandLink> 
		        </p:column>
			</p:dataTable>
    	</h:form>
		</ui:define>
		<ui:define name="footer">
			<ui:include src="/template/footer.xhtml" />
		</ui:define>
</ui:composition>
