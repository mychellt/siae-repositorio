<ui:composition template="/template/template.xhtml" 
	  xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:p="http://primefaces.org/ui">
		<ui:define name="header">
			<ui:include src="/template/header.xhtml" />
		</ui:define>
		<ui:define name="content">
		<h:form id="form-cadastro-aluno"  acceptcharset="ISO-8859-1">
			<p:breadCrumb>  
				<p:menuitem value="Home" action="#{alunoMBean.home}" ajax="false"/>
			    <p:menuitem value="Cadastros"/>
			    <p:menuitem value="Aluno" action="#{alunoMBean.iniciarCadastro}" />
			    <p:menuitem value="Cadastrar" />  
			</p:breadCrumb> 
			<br/>
			<p:messages id="messages" showDetail="false" autoUpdate="true" closable="true" /> 
			<br/>
			<table class="formulario" width="80%">
				<caption>Cadastro de Aluno</caption>
				<tr>
					<th class="obrigatorio">
						<h:outputText value="Nome:" />
					</th>
					<td>
						<p:inputText value="#{alunoMBean.obj.pessoa.nome}" size="70"/>
					</td>
				</tr>
				<tr>
					<th>
						<h:outputText value="CPF:" />
					</th>
					<td>
						<p:inputText value="#{alunoMBean.obj.pessoa.cpf}" onkeyup="formataCPF(this, event, null)"  size="14" maxlength="14" converter="converterCPF" />
					</td>
				</tr>
				<tr>
					<th>
						<h:outputText value="Nome da Mãe:" />
					</th>
					<td>
						<p:inputText value="#{alunoMBean.obj.mae.nome}" size="70"/>
					</td>
				</tr>
				<tr>
					<th>
						<h:outputText value="Nome da Pai:" />
					</th>
					<td>
						<p:inputText value="#{alunoMBean.obj.pai.nome}" size="70"/>
					</td>
				</tr>
				<tr>
					<th nowrap="nowrap">
						<h:outputText value="Data do Nascimento:" />
					</th>
					<td>
						<p:calendar value="#{alunoMBean.obj.pessoa.dataNascimento}" id="data-nascimento" showOn="button" />  
					</td>
				</tr>
				<tr>
					<th>
						<h:outputText value="E-mail:" />
					</th>
					<td>
						<p:inputText value="#{alunoMBean.obj.pessoa.email}" />
					</td>
				</tr>
				<tr>
					<th>	
						<h:outputText value="Telefone:" />
					</th>
					<td>
						<p:inputText value="#{alunoMBean.obj.pessoa.telefone}" />
					</td>
				</tr>
				<tr>
					<th>	
						<h:outputText value="Celular:" />
					</th>
					<td>
						<p:inputText value="#{alunoMBean.obj.pessoa.celular}" />
					</td>
				</tr>
				<tr>
					<th>	
						<h:outputText value="Sexo" />
					</th>
					<td>
						<p:selectOneMenu value="#{alunoMBean.obj.pessoa.sexo}" >  
							<f:selectItem itemLabel="-- Selecione --" itemValue="#{null}" />  
            				<f:selectItems value="#{sexoMBean.all}" var="sexo" itemLabel="#{sexo.denominacao}" itemValue="#{sexo}"/>  
						</p:selectOneMenu>
					</td>
				</tr>
				<tr>
					<td colspan="2">
						<table class="subformulario" width="100%">
							<caption>Endereço</caption>
							<tr>
								<th>
									<h:outputText value="CEP:" />
								</th>
								<td colspan="3">
									<p:inputText value="#{alunoMBean.obj.pessoa.endereco.cep}"/>
								</td>
							</tr>
							<tr>
								<th>
									<h:outputText value="Logradouro:" />
								</th>
								<td>
									<table width="100%">
										<tr>
											<td>
												<p:selectOneMenu value="#{alunoMBean.obj.pessoa.endereco.logradouro}" >  
													<f:selectItem itemLabel="-- Selecione --" itemValue="#{null}" />  
						            				<f:selectItems value="#{logradouroMBean.all}" var="logradouro" itemLabel="#{logradouro.denominacao}" itemValue="#{logradouro}"/>  
												</p:selectOneMenu>
											</td>
											<td colspan="2">
												<p:inputText value="#{alunoMBean.obj.pessoa.endereco.endereco}" size="60"/>
											</td>
										</tr>
									</table>
								</td>
							</tr>
							<tr>
								<th>
									<h:outputText value="Bairro:" />
								</th>
								<td>
									<table width="100%">
										<tr>
											<td style="width: 70%">
												<p:inputText value="#{alunoMBean.obj.pessoa.endereco.bairro}" size="60"/>
											</td>
											<th>
												<h:outputText value="Número:" />
											</th>
											<td style="width: 30%">
												<p:inputText value="#{alunoMBean.obj.pessoa.endereco.bairro}" size="10"/>
											</td>
										</tr>
									</table>
								</td>
							</tr>
							<tr>
								<th>
									<h:outputText value="Estado" />
								</th>
								<td>
									<p:selectOneMenu value="#{municipioMBean.estado}" converter="converterEstado" >  
										<f:selectItem itemLabel="-- Selecione --" itemValue="#{null}" />  
			            				<f:selectItems value="#{estadoMBean.all}" var="estado" itemLabel="#{estado.nome}" itemValue="#{estado}"/> 
			            				<p:ajax update="cidades" listener="#{municipioMBean.changeEstado}"/> 
									</p:selectOneMenu>
								</td>
							</tr>
							<tr>
								<th>
									<h:outputText value="Município:" />
								</th>
								<td colspan="3">
									<p:selectOneMenu id="cidades"  value="#{alunoMBean.obj.pessoa.endereco.municipio}" converter="converterMunicipio">  
										<f:selectItem itemLabel="-- Selecione --" itemValue="#{null}" />  
			            				<f:selectItems value="#{municipioMBean.all}" var="municipio" itemLabel="#{municipio.nome}" itemValue="#{municipio}"/> 
									</p:selectOneMenu>
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr>
					<td colspan="2">
						<table width="100%" class="subformulario">
							<caption>Documentação</caption>
							<tr>
								<th>
									<h:outputText value="RG:" />
								</th>
								<td>
									<p:inputText value="#{alunoMBean.obj.pessoa.identidade.numero}"/>
								</td>
								<th>
									<h:outputText value="Orgão de Expedição:" />
								</th>
								<td>
									<p:inputText value="#{alunoMBean.obj.pessoa.identidade.orgaoExpedidor}"/>
								</td>
							</tr>
							<tr>
								<th>
									<h:outputText value="UF:" />
								</th>
								<td>
									<p:selectOneMenu value="#{alunoMBean.obj.pessoa.identidade.estado}" converter="converterEstado" >  
										<f:selectItem itemLabel="-- Selecione --" itemValue="#{null}" />  
			            				<f:selectItems value="#{estadoMBean.all}" var="estado" itemLabel="#{estado.nome}" itemValue="#{estado}"/> 
									</p:selectOneMenu>
								</td>
								<th>
									<h:outputText value="Data de Expedição:" />
								</th>
								<td>
									<p:calendar value="#{alunoMBean.obj.pessoa.identidade.dataExpedicao}" id="data-expedicao-rg" showOn="button" />  
								</td>
							</tr>
							<tr>
								<td colspan="4" style="color: #BED6F8;">
									<hr />
								</td>
							</tr>
							<tr>
								<th>
									<h:outputText value="Certificado Militar:" />
								</th>
								<td>
									<p:inputText value="#{alunoMBean.obj.pessoa.certificadoMilitar.numero}"/>
								</td>
								<th>
									<h:outputText value="Data de Expedição:" />
								</th>
								<td>
									<p:calendar value="#{alunoMBean.obj.pessoa.certificadoMilitar.dataExpedicao}" id="data-expedicao-certificado-militar" showOn="button" />  	
								</td>
							</tr>
							<tr>
								<th>
									<h:outputText value="Série:" />
								</th>
								<td>
									<p:inputText value="#{alunoMBean.obj.pessoa.certificadoMilitar.serie}"/>
								</td>
								<th>
									<h:outputText value="Cetegoria:" />
								</th>
								<td>
									<p:inputText value="#{alunoMBean.obj.pessoa.certificadoMilitar.categoria}"/>
								</td>
							</tr>
							<tr>
								<th>
									<h:outputText value="Orgão" />
								</th>
								<td>
									<p:inputText value="#{alunoMBean.obj.pessoa.certificadoMilitar.orgao}"/>
								</td>
							</tr>
							<tr>
								<td colspan="4" style="color: #BED6F8;">
									<hr />
								</td>
							</tr>
							<tr>
								<th>
									<h:outputText value="Certidão de Nascimento:" />
								</th>
								<td>
									<p:inputText value="#{alunoMBean.obj.pessoa.certidaoNascimento.numero}"/>
								</td>
								<th>
									<h:outputText value="Data de Expedição:" />
								</th>
								<td>
									<p:inputText value="#{alunoMBean.obj.pessoa.certidaoNascimento.dataExpedicao}"/>
								</td>
							</tr>
							<tr>
								<th>
									<h:outputText value="Cartório:" />
								</th>
								<td colspan="3 ">
									<p:inputText value="#{alunoMBean.obj.pessoa.certidaoNascimento.cartorio}" size="65"/>	
								</td>
							</tr>
							<tr>
								<th>
									<h:outputText value="Livro:" />
								</th>
								<td>
									<p:inputText value="#{alunoMBean.obj.pessoa.certidaoNascimento.livro}"/>		
								</td>
								<th>
									<h:outputText value="Folha:" />
								</th>
								<td>
									<p:inputText value="#{alunoMBean.obj.pessoa.certidaoNascimento.folha}"/>		
								</td>
							</tr>
							<tr>
								<td colspan="4" style="color: #BED6F8;">
									<hr />
								</td>
							</tr>
							<tr>
								<th>
									<h:outputText value="Passaporte:" />
								</th>
								<td>
									<p:inputText value="#{alunoMBean.obj.pessoa.passaporte}"/>			
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr>
					<td colspan="2">
						<table width="100%" class="subformulario">
							<caption>Naturalidade</caption>
							<tr>
								<th>
									<h:outputText value="País:" />
								</th>
								<td>
									<p:selectOneMenu value="#{alunoMBean.obj.pessoa.naturalidade.pais}" converter="converterPais" id="pais-naturalidade">  
										<f:selectItem itemLabel="-- Selecione --" itemValue="#{null}" />  
			            				<f:selectItems value="#{paisMBean.all}" var="pais" itemLabel="#{pais.nome}" itemValue="#{pais}"/> 
									</p:selectOneMenu>
								</td>
								<th>
									<h:outputText value="Estado:" />
								</th>
								<td>
									<p:selectOneMenu value="#{municipioMBean.estado}" converter="converterEstado" id="estado-naturalidade">  
										<f:selectItem itemLabel="-- Selecione --" itemValue="#{null}" />  
			            				<f:selectItems value="#{estadoMBean.all}" var="" itemLabel="#{estado.nome}" itemValue="#{estado}"/>
			            				<p:ajax update="municipio-naturalidade" listener="#{municipioMBean.changeEstado}"/> 
									</p:selectOneMenu>
								</td>
							</tr>
							<tr>
								<th>
									<h:outputText value="Município:" />
								</th>
								<td>
									<p:selectOneMenu value="#{alunoMBean.obj.pessoa.naturalidade.municipio}" converter="converterMunicipio" id="municipio-naturalidade">  
										<f:selectItem itemLabel="-- Selecione --" itemValue="#{null}" />  
			            				<f:selectItems value="#{municipioMBean.all}" var="municipio" itemLabel="#{municipio.nome}" itemValue="#{municipio}"/> 
									</p:selectOneMenu>
								</td>
								<th>
									<h:outputText value="Naturalidade:" />
								</th>
								<td>
									<p:inputText value="#{alunoMBean.obj.pessoa.naturalidade.denominacao}"/>
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tfoot>
					<tr style="text-align: center;">
						<td colspan="2">
							<p:commandButton value="#{alunoMBean.confirmButton}" action="#{alunoMBean.cadastrar}"/>
							<p:commandButton value="Cancelar" action="#{alunoMBean.cancelar}"/>
						</td>
					</tr>
				</tfoot>
			</table> 
    	</h:form>
		</ui:define>
		<ui:define name="footer">
			<ui:include src="/template/footer.xhtml" />
		</ui:define>
</ui:composition>
