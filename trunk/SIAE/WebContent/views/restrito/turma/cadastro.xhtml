<ui:composition template="/template/template.xhtml" 
	  xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
		<ui:define name="header">
			<ui:include src="/template/header.xhtml" />
		</ui:define>
		<ui:define name="content">
		<h:form id="form"  acceptcharset="ISO-8859-1">
			<ui:include src="/views/restrito/includes/menu.xhtml" />
			<p:breadCrumb> 
				<p:menuitem value="Home" action="#{turmaMBean.home}"  ajax="false" immediate="true"/>
			    <p:menuitem value="Cadastros" action="#{turmaMBean.home}" ajax="false" immediate="true"/>
			    <p:menuitem value="Turma" action="#{turmaMBean.iniciarCadastro}" ajax="false" immediate="true"/>
			    <p:menuitem value="Cadastrar" />  
			</p:breadCrumb> 
			<br/>
			<p:messages id="messages" showDetail="false" autoUpdate="true" closable="true" /> 
			<br/>
			<table style="width: 70%" class="formulario">
				<caption>Cadastrar Turma</caption>
				<tr>
					<th class="obrigatorio">
						<h:outputText value="Ano:" />
					</th>
					<td>
						<p:inputText value="#{turmaMBean.obj.ano}" size="4" maxlength="4"/>
					</td>
				</tr>
				<tr>
					<th class="obrigatorio">
						<h:outputText value="Nome:" />
					</th>
					<td>
						<p:inputText value="#{turmaMBean.obj.nome}" />
					</td>
				</tr>
				<tr>
					<th class="obrigatorio">
						<h:outputText value="Serie:" />
					</th>
					<td>  
						<p:selectOneMenu value="#{turmaMBean.obj.serie}" converter="converterSerie" id="serie">  
							<f:selectItem itemLabel="-- Selecione --" itemValue="0"/>  
            				<f:selectItems value="#{serieMBean.all}" var="serie" itemLabel="#{serie.denominacao}" itemValue="#{serie}" />  
						</p:selectOneMenu>
					</td>
				</tr>
				<tr>
					<th class="obrigatorio">
						<h:outputText value="Turno:" />
					</th>
					<td>
						<p:selectOneMenu value="#{turmaMBean.obj.turno}" converter="converterTurno" id="turno">  
							<f:selectItem itemLabel="-- Selecione --" itemValue="0"/>  
            				<f:selectItems value="#{turnoMBean.all}" var="turno" itemLabel="#{turno.denominacao}" itemValue="#{turno}" />  
						</p:selectOneMenu>
					</td>
				</tr>
				<tr>
					<th class="obrigatorio">
						<h:outputText value="NÃºmero de Vagas:" />
					</th>
					<td>
						<p:inputText value="#{turmaMBean.obj.numeroVagas}" size="9" maxlength="9"/>
					</td>
				</tr>
				<tr>
					<td colspan="2">
						<table style="width: 100%" class="subformulario">
							<caption>
								<h:outputText value="Docente(s) da Turma" />
							</caption>
							<tr>
								<td colspan="2">
									<p:dataTable id="listagem-professor" var="professor" value="#{turmaMBean.professores}" selection="#{turmaMBean.professoresSelecionados}" paginator="true" rows="10" emptyMessage="Nenhum registro encontrado.">
						             	<p:column selectionMode="multiple" style="width:18px" />
						             	
						             	<p:column headerText="Nome do Professor" style="text-align: left;">  
											<h:outputText value="#{professor.pessoa.nome}" />  
								        </p:column>      
										 <p:column headerText="CPF" style="text-align: left;">  
											<h:outputText value="#{professor.pessoa.cpf}" />  
								        </p:column>      
										 									        
						    		</p:dataTable>
									
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tfoot>
					<tr style="text-align: center;">
						<td colspan="2">
							<p:commandButton value="#{turmaMBean.confirmButton}" action="#{turmaMBean.cadastrar}" ajax="false"/>
							<p:commandButton value="Cancelar" action="#{turmaMBean.cancelar}" ajax="false" immediate="true"/>
						</td>
					</tr>
				</tfoot>
			</table>
			
    	</h:form>
		</ui:define>
		<ui:define name="footer">
			<ui:include src="/template/footer.xhtml" />
		</ui:define>
</ui:composition>
